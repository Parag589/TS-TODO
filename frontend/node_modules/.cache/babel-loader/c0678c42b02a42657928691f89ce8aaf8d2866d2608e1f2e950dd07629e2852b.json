{"ast":null,"code":"import _slicedToArray from\"C:/Users/asus/Desktop/frontend-master/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import TodoItem from'./components/TodoItem';import AddTodo from'./components/Todo';import{getTodos,addTodo,updateTodo,deleteTodo}from'./API';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),todos=_useState2[0],setTodos=_useState2[1];useEffect(function(){fetchTodos();},[]);var fetchTodos=function fetchTodos(){getTodos().then(function(response){if(response.status===200){return response.data.todos;// Ensure data is of type ITodo[]\n}else{throw new Error('Error! Failed to fetch todos');}}).then(function(todos){return setTodos(todos);}).catch(function(err){return console.log(err);});};var handleSaveTodo=function handleSaveTodo(e,formData){e.preventDefault();addTodo(formData).then(function(_ref){var status=_ref.status,data=_ref.data;if(status!==201){throw new Error('Error! Todo not saved');}setTodos(data.todos);}).catch(function(err){return console.log(err);});};var handleUpdateTodo=function handleUpdateTodo(todo){updateTodo(todo).then(function(_ref2){var status=_ref2.status,data=_ref2.data;if(status!==200){throw new Error('Error! Todo not updated');}setTodos(data.todos);}).catch(function(err){return console.log(err);});};var handleDeleteTodo=function handleDeleteTodo(_id){deleteTodo(_id).then(function(_ref3){var status=_ref3.status,data=_ref3.data;if(status!==200){throw new Error('Error! Todo not deleted');}setTodos(data.todos);}).catch(function(err){return console.log(err);});};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"aan\",children:/*#__PURE__*/_jsx(\"div\",{className:\"wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"heading\",children:\"My Todos\"})})})}),/*#__PURE__*/_jsxs(\"main\",{className:\"App\",children:[/*#__PURE__*/_jsx(AddTodo,{saveTodo:handleSaveTodo}),todos.map(function(todo){return/*#__PURE__*/_jsx(TodoItem,{updateTodo:handleUpdateTodo,deleteTodo:handleDeleteTodo,todo:todo},todo._id);})]})]})});};export default App;","map":{"version":3,"names":["React","useEffect","useState","TodoItem","AddTodo","getTodos","addTodo","updateTodo","deleteTodo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","_useState","_useState2","_slicedToArray","todos","setTodos","fetchTodos","then","response","status","data","Error","catch","err","console","log","handleSaveTodo","e","formData","preventDefault","_ref","handleUpdateTodo","todo","_ref2","handleDeleteTodo","_id","_ref3","children","className","saveTodo","map"],"sources":["C:/Users/asus/Desktop/frontend-master/frontend/src/App.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport TodoItem from './components/TodoItem'\nimport AddTodo from './components/Todo'\nimport { getTodos, addTodo, updateTodo, deleteTodo } from './API'\n\nconst App: React.FC = () => {\n  const [todos, setTodos] = useState<ITodo[]>([])\n\n  useEffect(() => {\n    fetchTodos()\n  }, [])\n\n  const fetchTodos = (): void => {\n    getTodos()\n      .then((response) => {\n        if (response.status === 200) {\n          return response.data.todos as ITodo[]; // Ensure data is of type ITodo[]\n        } else {\n          throw new Error('Error! Failed to fetch todos');\n        }\n      })\n      .then((todos) => setTodos(todos))\n      .catch((err: Error) => console.log(err));\n  }\n  \n\n const handleSaveTodo = (e: React.FormEvent, formData: ITodo): void => {\n   e.preventDefault()\n   addTodo(formData)\n   .then(({ status, data }) => {\n    if (status !== 201) {\n      throw new Error('Error! Todo not saved')\n    }\n    setTodos(data.todos)\n  })\n  .catch((err) => console.log(err))\n}\n\n  const handleUpdateTodo = (todo: ITodo): void => {\n    updateTodo(todo)\n    .then(({ status, data }) => {\n        if (status !== 200) {\n          throw new Error('Error! Todo not updated')\n        }\n        setTodos(data.todos)\n      })\n      .catch((err) => console.log(err))\n  }\n\n  const handleDeleteTodo = (_id: string): void => {\n    deleteTodo(_id)\n    .then(({ status, data }) => {\n        if (status !== 200) {\n          throw new Error('Error! Todo not deleted')\n        }\n        setTodos(data.todos)\n      })\n      .catch((err) => console.log(err))\n  }\n\n  return (<>\n    <div className='main'>\n    \n    <div className='aan'>\n      <div className=\"wrapper\">\n        <div className=\"container\">\n          <h1 className='heading'>My Todos</h1>\n\n        </div>\n      </div>\n    </div>\n    <main className='App'>\n      {/* <h1>My Todos</h1> */}\n      <AddTodo saveTodo={handleSaveTodo} />\n      {todos.map((todo: ITodo) => (\n        <TodoItem\n          key={todo._id}\n          updateTodo={handleUpdateTodo}\n          deleteTodo={handleDeleteTodo}\n          todo={todo}\n        />\n      ))}\n    </main>\n    </div>\n    \n    </>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}